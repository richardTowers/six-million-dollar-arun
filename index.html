<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
  </head>
  <body>
    <script src="/socket.io/socket.io.js"></script>
    <script>
    function getDirection (keyCode) {
      return { 37: 'left', 38: 'forward', 39: 'right', 40: 'backward' }[keyCode];
    }
    var socket = io();
    document.onkeydown = function (event) {
      socket.emit(getDirection(event.keyCode) + '-on');
    };
    document.onkeyup = function (event) {
      socket.emit(getDirection(event.keyCode) + '-off');
    };
    </script>
  </body>
</html>
